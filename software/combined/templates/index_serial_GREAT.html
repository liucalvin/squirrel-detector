<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RGB and Depth Streams</title>
</head>
<body>
    <h1>RGB Stream with Object Detection</h1>
    <img src="{{ url_for('video_feed_rgb') }}" width="640" height="480">
    <h1>Depth Stream with Center Depth</h1>
    <img src="{{ url_for('video_feed_depth') }}" width="640" height="480">
    <h1>Motor Control</h1>
    <button onclick="moveLeft()">Move Motor 1 Left</button>
    <button onclick="moveRight()">Move Motor 1 Right</button>
    <button onclick="moveUp()">Move Motor 2 Up</button>
    <button onclick="moveDown()">Move Motor 2 Down</button>
    <h1>Water Control</h1>
    <button onclick="waterOn()">Turn Water On</button>
    <button onclick="waterOff()">Turn Water Off</button>
    <h1>Custom Serial Command</h1>
    <input type="text" id="command" placeholder="Enter command (e.g., 90,90,0)">
    <button onclick="sendCommand()">Send Command</button>

    <script>
        function moveLeft() {
            fetch('/move_left')
                .then(response => response.text())
                .then(data => console.log(data));
        }

        function moveRight() {
            fetch('/move_right')
                .then(response => response.text())
                .then(data => console.log(data));
        }

        function moveUp() {
            fetch('/move_up')
                .then(response => response.text())
                .then(data => console.log(data));
        }

        function moveDown() {
            fetch('/move_down')
                .then(response => response.text())
                .then(data => console.log(data));
        }

        function waterOn() {
            fetch('/water_on')
                .then(response => response.text())
                .then(data => console.log(data));
        }

        function waterOff() {
            fetch('/water_off')
                .then(response => response.text())
                .then(data => console.log(data));
        }

        function sendCommand() {
            const command = document.getElementById('command').value;
            fetch('/send_command', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: `command=${encodeURIComponent(command)}`,
            })
            .then(response => response.text())
            .then(data => console.log(data));
        }
    </script>
</body>
</html>
